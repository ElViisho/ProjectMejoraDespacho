{% extends 'AppMejoraDespacho/base.html' %}
{% load static %}
{% load i18n %}

{% block header %}
<link rel="stylesheet" href="{% static 'css/apprest.css' %}">
<link rel="stylesheet" href="{% static 'css/apprest_form.css' %}">
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<link
     rel="stylesheet"
     href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
   />
   <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
{% endblock header%}

{% block content %}

{% language 'es' %}

<div class="titulo_pagina d-flex justify-content-center">Ingresa una nota de venta</div>
<div class="mensajeAlerta">
	{% if formulario.errors %}
		{% for field in formulario %}
			{% for error in field.errors %}
				<div class="alert alert-danger" role="alert" style="text-align: center; margin-left: 15%; margin-right: 15%;">
					{{ error|escape }}
				</div>
			{% endfor %}
		{% endfor %}
	{% endif %}
</div>
<form class="form" action="" method="POST" enctype="multipart/form-data"id ="formulario">
{% csrf_token %}

{% for field in formulario %}
	{% if field.name == "comprobante_pago" %}
	<div class="form-group block-form">
	<nobr>
		<label>{{ field.label }}</label>
		<label for="id_comprobante_pago" class="custom-file-upload">
		<i class="fa fa-cloud-upload"></i> Subir archivo
		</label> <div id="file_name"></div>
		{{ field }}
	</nobr>
	</div>
	{% elif field.name == "hora_despacho_inicio" %}
	<div class="form-group block-form">
		<label>{{ field.label }}</label><br>
		<table class="table">
			<tbody>
				<nobr>
				<tr class="text-center">
					<div class="selector_hora">
						<td>Rango 1</td>
						<td>{{ field }} </td>
						<td>{{ formulario.hora_despacho_fin }}</td>
					</div>
				</tr>
				<tr class="text-center">
					<div class="selector_hora">
						<td>Rango 2 (opcional)</td>
						<td>{{ formulario.hora_despacho_extra_inicio }}</td>
						<td>{{ formulario.hora_despacho_extra_fin }}</td>
					</div>
				</tr>
				</nobr>
			</tbody>
		</table>
	</div>
	{% elif field.name == "hora_despacho_fin" or field.name == "hora_despacho_extra_inicio" or field.name == "hora_despacho_extra_fin" %}
	{% else %}
	<div class="form-group block-form">
		<label>{{ field.label }}</label><br>
		{{ field }}
	</div>
	{% endif %}
{% endfor %}
<input class="btn btn-default" class="boton-sumbit" id="boton" type="submit" value="Subir" readonly>
</form>

<script src="{% static 'js/js_form.js' %}"></script>

{% endlanguage %}

{% endblock content %}